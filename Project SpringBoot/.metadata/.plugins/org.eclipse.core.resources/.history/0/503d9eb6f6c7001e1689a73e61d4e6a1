package com.demo.dao;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.stereotype.Repository;

import com.demo.model.Plant_Food;

@Repository
public class PlantFoodDaoImpl implements PlantFoodDao {
	
	@Autowired
	private JdbcTemplate jdbcTemplate;
	Plant_Food pfood = new Plant_Food();
	@Override
	public List<Plant_Food> getAllProducts() {
		List<Plant_Food> plist = jdbcTemplate.query("select * from plant_food", (rs,num)->{
			pfood.setPFID(rs.getString(1));
			pfood.setPFTitle(rs.getString(2));
			pfood.setPFDescription(rs.getString(3));
			pfood.setPFWeight(rs.getString(4));
			pfood.setPFRating(rs.getDouble(5));
			pfood.setPFPrice(rs.getString(6));
			pfood.setPFSTOCKAVAILABILITY(rs.getInt(7));
			pfood.setPFImages(rs.getString(8));
			
			return pfood;
		});
		
		return plist;
	}

	@Override
	public Plant_Food findById(int pid) {
		String str="insert into product values(?,?,?,?)";
		jdbcTemplate.update(str,new Object[] {pfood.getPFID(),
				pfood.getPFTitle(),pfood.getPFDescription(),pfood.getPFWeight(),pfood.getPFRating(),pfood.getPFPrice(),pfood.getPFSTOCKAVAILABILITY(),pfood.getPFImages()});
		return pfood;
	}
}
